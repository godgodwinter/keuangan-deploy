import{r as i,o as r,c as m,e as n,u as l,b as e,w as E,t as u,k as F,F as D,T as v,l as b,_ as g}from"./index-a3ee2ccf.js";import{A as h}from"./axios-36c6ef57.js";import{F as p,f as x,a as P}from"./babengValidasi-cd583f0f.js";const A=e("div",{class:"pt-4 px-5 md:flex justify-between"},[e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"}," PROFILE ")]),e("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),I={key:0},U={key:1},L={key:2},N={key:0,class:"px-4 py-4"},S={class:"w-full"},T={class:"shadow rounded-lg px-0"},B={class:"w-full lg:w-fi mx-4"},C={class:"p-2 sm:p-6 xl:p-8"},O={class:"pt-0 px-0"},R={class:"w-full mx-0"},j={class:"rounded-lg"},G={class:"grid md:grid-cols-2 gap-2"},W=e("label",{for:"nama",class:"text-sm font-medium block mb-2"},"Full Name",-1),K={class:"text-xs text-red-600 mt-1"},q=e("label",{for:"username",class:"text-sm font-medium block mb-2"},"Username",-1),z={class:"text-xs text-red-600 mt-1"},H=e("label",{for:"email",class:"text-sm font-medium block mb-2"},"Email",-1),J={class:"text-xs text-red-600 mt-1"},M=e("label",{for:"password",class:"text-sm font-medium block mb-2"},"Password",-1),Q={class:"text-xs text-red-600 mt-1"},X=e("label",{for:"password2",class:"text-sm font-medium block mb-2"},"Konfirmasi Password",-1),Y={class:"text-xs text-red-600 mt-1"},Z=e("div",{class:"w-full flex justify-end mt-4 px-20"},[e("button",{class:"btn btn-active btn-lg btn-primary"}," Simpan ")],-1),le={__name:"AdminProfileIndex",setup($){const y=b(()=>g(()=>import("./AlertLoading-c3e778de.js"),["assets/AlertLoading-c3e778de.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-a3ee2ccf.js","assets/index-55cc922c.css"])),V=b(()=>g(()=>import("./AlertFailed-8ce9bab2.js"),["assets/AlertFailed-8ce9bab2.js","assets/index-a3ee2ccf.js","assets/index-55cc922c.css"])),a=i([]),f=i([]),_=i(),c=i(!0),w=i(!1);(async()=>{try{c.value=!0;const s=await h.post("admin/auth/profile");_.value=s.data.me,a.value=_.value,console.log(_.value),c.value=!1}catch(s){c.value=!1,w.value=!0,v.danger("Warning","Data Gagal dimuat"),console.error(s)}})();const k=async s=>{if(s.nama=a.value.nama,s.username=a.value.username,s.email=a.value.email,s.password=a.value.password,a.value.password===a.value.password2){let t={nama:s.nama,username:s.username,email:s.email,password:s.password};const d=await h.put("admin/auth/profile",t);console.log(d),v.success("Info","Data berhasil di update!")}else return v.warning("Warning","Password dan konfirmasi tidak sama, periksa lagi!"),null};return(s,t)=>(r(),m(D,null,[A,c.value?(r(),m("span",I,[n(l(y))])):w.value?(r(),m("span",U,[n(l(V),{message:"Gagal mendapatkan response dari server"})])):(r(),m("span",L,[a.value?(r(),m("div",N,[e("div",S,[e("div",T,[e("div",B,[e("div",C,[n(l(P),{onSubmit:k},{default:E(({errors:d})=>[e("div",O,[e("div",R,[e("div",j,[e("div",G,[e("div",null,[W,n(l(p),{rules:l(x).validateData2,modelValue:a.value.nama,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.nama=o),name:"nama",type:"text",class:"input input-bordered w-11/12"},null,8,["rules","modelValue"]),e("div",K,u(d.nama),1)]),e("div",null,[q,n(l(p),{rules:l(x).validateData2,modelValue:a.value.username,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.username=o),name:"username",type:"text",class:"input input-bordered w-11/12"},null,8,["rules","modelValue"]),e("div",z,u(d.username),1)]),e("div",null,[H,n(l(p),{rules:l(x).validateEmail,modelValue:a.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.email=o),name:"email",type:"text",class:"input input-bordered w-11/12"},null,8,["rules","modelValue"]),e("div",J,u(d.email),1)]),e("div",null,[M,n(l(p),{modelValue:a.value.password,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value.password=o),name:"password",type:"password",class:"input input-bordered w-11/12"},null,8,["modelValue"]),e("div",Q,u(f.value.password),1)]),e("div",null,[X,n(l(p),{modelValue:a.value.password2,"onUpdate:modelValue":t[4]||(t[4]=o=>a.value.password2=o),name:"password2",type:"password",class:"input input-bordered w-11/12"},null,8,["modelValue"]),e("div",Y,u(f.value.password),1)])]),Z])])])]),_:1})])])])])])):F("",!0)]))],64))}};export{le as default};
