import{r as n,a as D,o as s,c as t,b as a,e as _,w as f,u as l,t as e,F as g,L as w,k as T,T as V,n as N,l as b,_ as A}from"./index-95555f49.js";import{F as c}from"./FungsiCampur-7ab25e59.js";import{A as S}from"./axios-36c6ef57.js";import{m as R,l as F}from"./id-d7324490.js";import{u as j}from"./adminRekapStore-00e14d8a.js";const z=a("div",{class:"pt-4 px-5 md:flex justify-between"},[a("div",null,[a("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm uppercase"}," REKAP TRANSAKSI KESELURUHAN ")]),a("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),B={class:"p-4"},$={class:"tabs tabs-boxed"},H=a("a",{class:"tab"},"Harian",-1),Y=a("a",{class:"tab"},"Bulanan",-1),K=a("a",{class:"tab tab-active"},"Tahunan",-1),G={key:0},M={key:1},O={key:2},U={key:0,class:"font-mono"},W={class:"w-full py-6 px-2 flex justify-center shadow"},q={class:"grid grid-cols-3 w-full text-center"},J=a("div",{class:"font-bold"},"Pemasukan",-1),Q={class:"text-sky-600"},X={class:""},Z=a("div",{class:"font-bold"},"Pengeluaran",-1),I={class:"text-red-600"},aa={class:""},ea=a("div",{class:"font-bold"},"Saldo",-1),sa={class:"text-primary-content"},ta={class:"w-full py-4 flex-col justify-center px-4 space-y-4 shadow-md"},oa={class:"grid grid-cols-3 w-full"},na={class:"grid-cols-1 font-bold border-r-2"},la={class:"flex flex-row space-x-2"},ra={class:"text-2xl"},da={class:"text-right text-sky-600 border-r-2 px-2"},ia={class:"text-right text-red-600"},ca={class:"grid grid-cols-3 w-full"},_a={class:"grid-cols-1 border-r-2 flex space-x-2"},ua=["onClick"],pa=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),va=[pa],ha={class:"border-r-2 px-2"},ma=["onClick"],Ra={__name:"AdminTransaksiTahunan",setup(fa){R.updateLocale("id",F);const L=b(()=>A(()=>import("./AlertLoading-8a33e87f.js"),["assets/AlertLoading-8a33e87f.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-95555f49.js","assets/index-61019a89.css"])),C=b(()=>A(()=>import("./AlertFailed-0c222260.js"),["assets/AlertFailed-0c222260.js","assets/index-95555f49.js","assets/index-61019a89.css"]));j();const E=n(`${R().format("YYYY")}`),x=n({monthyear:0});x.value.monthyear=E.value;const p=n([]),r=n([]),k=n([]),u=n(!0),y=n(!1);return n([]),(async()=>{try{u.value=!0;let d=`${x.value.monthyear}`;const v=await S.get(`admin/data_transaksi/detail/tahunan?year=${d}`);k.value=v.data,r.value=v.rekap,p.value=k.value,u.value=!1}catch(d){u.value=!1,y.value=!0,V.danger("Warning","Data Gagal dimuat"),console.error(d)}})(),(d,v)=>{const h=D("RouterLink");return s(),t(g,null,[z,a("div",B,[a("div",$,[_(h,{to:{name:"admin-transaksi-harian"}},{default:f(()=>[H]),_:1}),_(h,{to:{name:"admin-transaksi-bulanan"}},{default:f(()=>[Y]),_:1}),_(h,{to:{name:"admin-transaksi-tahunan"}},{default:f(()=>[K]),_:1})])]),u.value?(s(),t("span",G,[_(l(L))])):y.value?(s(),t("span",M,[_(l(C),{message:"Gagal mendapatkan response dari server"})])):(s(),t("span",O,[p.value?(s(),t("div",U,[a("div",W,[a("div",q,[a("div",null,[J,a("div",Q,e(l(c).formatRupiah(r.value.pemasukan?r.value.pemasukan:0)),1)]),a("div",X,[Z,a("div",I,e(l(c).formatRupiah(r.value.pengeluaran?r.value.pengeluaran:0)),1)]),a("div",aa,[ea,a("div",sa,e(l(c).formatRupiah(r.value.saldo?r.value.saldo:0)),1)])])]),(s(!0),t(g,null,w(p.value,(i,xa)=>(s(),t("div",ta,[a("div",oa,[a("div",na,[a("div",la,[a("span",ra,e(i.nama),1)])]),a("div",da,e(l(c).formatRupiah(i.pemasukan?i.pemasukan:0)),1),a("div",ia,e(l(c).formatRupiah(i.pengeluaran?i.pengeluaran:0)),1)]),(s(!0),t(g,null,w(i.detail,(o,m)=>(s(),t("div",ca,[a("div",_a,[a("button",{class:"bg-transparent hover:bg-gray-200 text-danger font-semibold hover:text-danger-content border border-danger hover:border-danger py-2 px-2 rounded",onClick:P=>d.doDeleteData(o.id,m)},va,8,ua),a("span",null,e(m+1)+". "+e(o.nama),1)]),a("div",ha,[a("span",null,e(o.nama),1)]),a("div",{class:N(["text-right hover:underline",{"text-red-600":o.jenis=="Pengeluaran","text-sky-600":o.jenis=="Pemasukan"}]),onClick:P=>d.doEditData(o.id,m)},e(l(c).formatRupiah(o.nominal?o.nominal:0)),11,ma)]))),256))]))),256))])):T("",!0)]))],64)}}};export{Ra as default};
