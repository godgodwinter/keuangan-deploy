import N from"./LockedPages.20575695.js";import{m as _,l as P,u as T,A as M,F as d}from"./apiTransaksi.ee1270bc.js";import{u as B}from"./admin.80e473ad.js";import{T as L}from"./Toast.885b3539.js";import{d as V,b as g,r as k,h as z,o as c,c as u,e as a,g as D,w as S,n as b,t as e,f as t,F as $,Q as w,V as F}from"./index.56ca7468.js";import"./style.54b22447.js";import"./plugin-vue_export-helper.21dcd24c.js";const R={class:"pt-4 px-5 md:flex justify-between"},E=a("div",null,null,-1),q={class:"pt-4 px-5 flex justify-center"},U={class:"w-full py-6 px-2 flex justify-center shadow"},Q={class:"grid grid-cols-3 w-full text-center"},G=a("div",{class:"font-bold"},"Pemasukan",-1),J={class:"text-sky-600"},K={class:""},O=a("div",{class:"font-bold"},"Pengeluaran",-1),W={class:"text-red-600"},X={class:""},Z=a("div",{class:"font-bold"},"Saldo",-1),I={class:"text-primary-content"},aa={class:"w-full py-4 flex-col justify-center px-4 space-y-4 shadow-md"},ta={class:"grid grid-cols-3 w-full"},ea={class:"grid-cols-1 font-bold border-r-2"},sa={class:"flex flex-row space-x-2"},na={class:"text-2xl"},oa={class:"text-right text-sky-600 border-r-2 px-2"},la={class:"text-right text-red-600"},ra={class:"grid grid-cols-3 w-full"},ia={class:"grid-cols-1 border-r-2 flex space-x-2"},da=["onClick"],ca=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),ua=[ca],ha={class:"border-r-2 px-2"},_a=["onClick"],va=V({__name:"CListDaily",setup(j){_.updateLocale("id",P),_().format("DD MMMM YYYY");const i=T();i.$subscribe((o,s)=>{});const m=g(()=>i.getData),p=g(()=>i.getDataShowDaily),h=g(()=>i.getDataBlnThn),v=g(()=>i.getDataRekap);k([]);const l=k([]);m.value.length<1&&M.getData(),B().setPagesActive("transaksi");const f=async(o,s)=>{confirm("Apakah anda yakin menghapus data ini?")&&(await M.deleteData(o)?(L.success("Info","Data berhasil dihapus!"),await M.getData()):L.danger("Info","Data gagal dihapus!"))},x=async(o,s)=>{F.push({name:"AdminTransaksiEdit",params:{id:o}})};l.value.monthyear={month:h.value.blnNumber-1,year:h.value.thn};const n=()=>{l.value.monthyear.month,l.value.monthyear.year;let o={nama:_(l.value.monthyear).format("MMMM YYYY"),bln:_(l.value.monthyear).format("MM"),blnNumber:_(l.value.monthyear).format("Mo"),blnNama:_(l.value.monthyear).format("MMMM"),thn:_(l.value.monthyear).format("YYYY")};i.setDataBlnThn(o),M.getData()};return(o,s)=>{const C=z("Datepicker");return c(),u($,null,[a("div",R,[E,a("div",q,[D(C,{format:"MMMM yyyy","value-format":"yyyy-MM",modelValue:l.value.monthyear,"onUpdate:modelValue":s[0]||(s[0]=r=>l.value.monthyear=r),monthPicker:"",required:""},{"calendar-header":S(({index:r,day:A})=>[a("div",{class:b(r===5||r===6?"red-color":"")},e(A),3)]),_:1},8,["modelValue"]),a("button",{class:"btn btn-sm btn-primary",onClick:s[1]||(s[1]=r=>n())}," Pilih ")])]),a("div",U,[a("div",Q,[a("div",null,[G,a("div",J,e(t(d).rupiah(t(v).pemasukan?t(v).pemasukan:0)),1)]),a("div",K,[O,a("div",W,e(t(d).rupiah(t(v).pengeluaran?t(v).pengeluaran:0)),1)]),a("div",X,[Z,a("div",I,e(t(d).rupiah(t(v).saldo?t(v).saldo:0)),1)])])]),(c(!0),u($,null,w(t(p),(r,A)=>(c(),u("div",aa,[a("div",ta,[a("div",ea,[a("div",sa,[a("span",na,e(r.tgl),1),a("div",null,[a("div",null,[a("span",null,e(r.blnthn),1)]),a("div",null,e(r.week),1)])])]),a("div",oa,e(t(d).rupiah(r.sumPemasukan?r.sumPemasukan:0)),1),a("div",la,e(t(d).rupiah(r.sumPengeluaran?r.sumPengeluaran:0)),1)]),(c(!0),u($,null,w(r.data,(y,bt)=>(c(),u("div",ra,[a("div",ia,[a("button",{class:"bg-transparent hover:bg-gray-200 text-danger font-semibold hover:text-danger-content border border-danger hover:border-danger py-2 px-2 rounded",onClick:H=>f(y.id)},ua,8,da),a("span",null,e(y.kategori_nama),1)]),a("div",ha,[a("span",null,e(y.nama),1)]),a("div",{class:b(["text-right hover:underline",{"text-red-600":y.jenis=="Pengeluaran","text-sky-600":y.jenis=="Pemasukan"}]),onClick:H=>x(y.id)},e(t(d).rupiah(y.nominal?y.nominal:0)),11,_a)]))),256))]))),256))],64)}}}),pa={class:"pt-4 px-5 flex justify-center"},fa={class:"md:py-0 py-4 space-x-2 space-y-2 flex"},ga={class:"w-full py-6 px-2 flex justify-center shadow"},ma={class:"grid grid-cols-3 w-full text-center"},xa=a("div",{class:"font-bold"},"Pemasukan",-1),ya={class:"text-sky-600"},ka={class:""},$a=a("div",{class:"font-bold"},"Pengeluaran",-1),ba={class:"text-red-600"},Ma={class:""},Da=a("div",{class:"font-bold"},"Saldo",-1),wa={class:"text-primary-content"},Ya={class:"w-full py-4 flex-col justify-center px-4 space-y-4 shadow-md"},Ca={class:"grid grid-cols-4 w-full"},Aa={class:"grid-cols-1 font-bold border-r-2"},Pa={class:"flex flex-row space-x-2"},Ta={class:"text-sm lg:text-2xl"},Va=a("div",null,[a("div")],-1),ja={class:"text-right text-sky-600 border-r-2 px-2"},Ba={class:"text-right text-red-600"},La={class:"text-right text-neutral"},za={class:"grid grid-cols-3 w-full"},Sa={class:"grid-cols-1 border-r-2 flex space-x-2"},Ha=["onClick"],Na=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),Fa=[Na],Ra={class:"border-r-2 px-2"},Ea=["onClick"],qa=V({__name:"CListMonthly",setup(j){_.updateLocale("id",P),_().format("DD MMMM YYYY");const i=T();i.$subscribe((x,n)=>{});const m=g(()=>i.getData);g(()=>i.getDataShow);const p=g(()=>i.getDataShowMonthly),h=g(()=>i.getDataRekap),v=g(()=>i.getDataBlnThn);k([]);const l=k([]);m.value.length<1&&M.getData(),B().setPagesActive("transaksi"),l.value.monthyear=v.value.thn;const f=()=>{let x=v.value.bln,n=l.value.monthyear,o={month:x-1,year:n},s={nama:_(o).format("MMMM YYYY"),bln:_(o).format("MM"),blnNumber:_(o).format("Mo"),blnNama:_(o).format("MMMM"),thn:_(o).format("YYYY")};i.setDataBlnThn(s),M.getData()};return(x,n)=>{const o=z("Datepicker");return c(),u($,null,[a("div",pa,[a("div",fa,[D(o,{format:"yyyy","value-format":"yyyy",modelValue:l.value.monthyear,"onUpdate:modelValue":n[0]||(n[0]=s=>l.value.monthyear=s),yearPicker:"",required:""},{"calendar-header":S(({index:s,day:C})=>[a("div",{class:b(s===5||s===6?"red-color":"")},e(C),3)]),_:1},8,["modelValue"]),a("button",{class:"btn btn-sm btn-primary",onClick:n[1]||(n[1]=s=>f())}," Pilih ")])]),a("div",ga,[a("div",ma,[a("div",null,[xa,a("div",ya,e(t(d).rupiah(t(h).pemasukan?t(h).pemasukan:0)),1)]),a("div",ka,[$a,a("div",ba,e(t(d).rupiah(t(h).pengeluaran?t(h).pengeluaran:0)),1)]),a("div",Ma,[Da,a("div",wa,e(t(d).rupiah(t(h).saldo?t(h).saldo:0)),1)])])]),(c(!0),u($,null,w(t(p),(s,C)=>(c(),u("div",Ya,[a("div",Ca,[a("div",Aa,[a("div",Pa,[a("span",Ta,e(s.nama),1),Va])]),a("div",ja,e(t(d).rupiah(s.pemasukan?s.pemasukan:0)),1),a("div",Ba,e(t(d).rupiah(s.pengeluaran?s.pengeluaran:0)),1),a("div",La,e(t(d).rupiah(s.saldoMonthly?s.saldoMonthly:0)),1)]),(c(!0),u($,null,w(s.data,(r,A)=>(c(),u("div",za,[a("div",Sa,[a("button",{class:"bg-transparent hover:bg-gray-200 text-danger font-semibold hover:text-danger-content border border-danger hover:border-danger py-2 px-2 rounded",onClick:y=>x.doDeleteData(r.id,A)},Fa,8,Ha),a("span",null,e(r.kategori_nama),1)]),a("div",Ra,[a("span",null,e(r.nama),1)]),a("div",{class:b(["text-right hover:underline",{"text-red-600":r.jenis=="Pengeluaran","text-sky-600":r.jenis=="Pemasukan"}]),onClick:y=>x.doEditData(r.id,A)},e(t(d).rupiah(r.nominal?r.nominal:0)),11,Ea)]))),256))]))),256))],64)}}}),Ua={class:"w-full py-6 px-2 flex justify-center shadow"},Qa={class:"grid grid-cols-3 w-full text-center"},Ga=a("div",{class:"font-bold"},"Pemasukan",-1),Ja={class:"text-sky-600"},Ka={class:""},Oa=a("div",{class:"font-bold"},"Pengeluaran",-1),Wa={class:"text-red-600"},Xa={class:""},Za=a("div",{class:"font-bold"},"Saldo",-1),Ia={class:"text-primary-content"},at={class:"w-full py-4 flex-col justify-center px-4 space-y-4 shadow-md"},tt={class:"grid grid-cols-4 w-full"},et={class:"grid-cols-1 font-bold border-r-2"},st={class:"flex flex-row space-x-2"},nt={class:"text-2xl"},ot=a("div",null,[a("div")],-1),lt={class:"text-right text-sky-600 border-r-2 px-2"},rt={class:"text-right text-red-600"},it={class:"text-right text-neutral"},dt={class:"grid grid-cols-3 w-full"},ct={class:"grid-cols-1 border-r-2 flex space-x-2"},ut=["onClick"],ht=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),_t=[ht],vt={class:"border-r-2 px-2"},pt=["onClick"],ft=V({__name:"CListYearly",setup(j){_.updateLocale("id",P),_().format("DD MMMM YYYY");const i=T();i.$subscribe((l,Y)=>{});const m=g(()=>i.getData);g(()=>i.getDataShow);const p=g(()=>i.getDataRekapAll),h=g(()=>i.getDataShowYearly);return k([]),k([]),m.value.length<1&&M.getData(),B().setPagesActive("transaksi"),(l,Y)=>(c(),u($,null,[a("div",Ua,[a("div",Qa,[a("div",null,[Ga,a("div",Ja,e(t(d).rupiah(t(p).pemasukan?t(p).pemasukan:0)),1)]),a("div",Ka,[Oa,a("div",Wa,e(t(d).rupiah(t(p).pengeluaran?t(p).pengeluaran:0)),1)]),a("div",Xa,[Za,a("div",Ia,e(t(d).rupiah(t(p).saldo?t(p).saldo:0)),1)])])]),(c(!0),u($,null,w(t(h),(f,x)=>(c(),u("div",at,[a("div",tt,[a("div",et,[a("div",st,[a("span",nt,e(f.nama),1),ot])]),a("div",lt,e(t(d).rupiah(f.pemasukan?f.pemasukan:0)),1),a("div",rt,e(t(d).rupiah(f.pengeluaran?f.pengeluaran:0)),1),a("div",it,e(t(d).rupiah(f.saldo?f.saldo:0)),1)]),(c(!0),u($,null,w(f.data,(n,o)=>(c(),u("div",dt,[a("div",ct,[a("button",{class:"bg-transparent hover:bg-gray-200 text-danger font-semibold hover:text-danger-content border border-danger hover:border-danger py-2 px-2 rounded",onClick:s=>l.doDeleteData(n.id,o)},_t,8,ut),a("span",null,e(n.kategori_nama),1)]),a("div",vt,[a("span",null,e(n.nama),1)]),a("div",{class:b(["text-right hover:underline",{"text-red-600":n.jenis=="Pengeluaran","text-sky-600":n.jenis=="Pemasukan"}]),onClick:s=>l.doEditData(n.id,o)},e(t(d).rupiah(n.nominal?n.nominal:0)),11,pt)]))),256))]))),256))],64))}}),gt={class:"w-full py-4 px-2 flex justify-center"},mt={class:"tabs"},xt={key:0},yt={key:1},kt={key:2},$t={key:3},Tt=V({__name:"TransaksiIndex",setup(j){_.updateLocale("id",P),_().format("DD MMMM YYYY"),T().$subscribe((n,o)=>{});const m=k(!0),p=k(!1),h=k(!1),v=k(!1),l=n=>{n=="harian"?(m.value=!0,p.value=!1,h.value=!1,v.value=!1):n=="mingguan"?(m.value=!1,p.value=!0,h.value=!1,v.value=!1):n=="bulanan"?(m.value=!1,p.value=!1,h.value=!0,v.value=!1):n=="tahunan"&&(m.value=!1,p.value=!1,h.value=!1,v.value=!0)},Y=async n=>{l("harian")},f=async n=>{l("bulanan")},x=async n=>{l("tahunan")};return(n,o)=>(c(),u($,null,[a("div",gt,[a("div",mt,[a("a",{class:b(["tab tab-bordered",{"tab-active":m.value}]),onClick:o[0]||(o[0]=s=>Y())},"Harian",2),a("a",{class:b(["tab tab-bordered",{"tab-active":h.value}]),onClick:o[1]||(o[1]=s=>f())},"Bulanan",2),a("a",{class:b(["tab tab-bordered",{"tab-active":v.value}]),onClick:o[2]||(o[2]=s=>x())},"Tahunan",2)])]),m.value?(c(),u("div",xt,[D(va)])):h.value?(c(),u("div",yt,[D(qa)])):v.value?(c(),u("div",kt,[D(ft)])):(c(),u("div",$t,[D(N)]))],64))}});export{Tt as default};
