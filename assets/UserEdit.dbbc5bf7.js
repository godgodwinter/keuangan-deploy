import{u as U,A as v}from"./apiUsers.b975eddb.js";import{u as D}from"./admin.959ac1b5.js";import{F as i,f as c,a as A}from"./babengValidasi.8b3f3243.js";import{d as S,j as F,N as P,r as m,o as x,a as h,b as s,f as d,w as g,e as l,t as r,K as E,F as I,g as K}from"./index.1a86910d.js";import{T as _}from"./Toast.d8d4c2d8.js";import"./style.9725afdb.js";const N={class:"pt-4 px-5 md:flex justify-between"},C=s("div",null,[s("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"}," Tambah Edit ")],-1),j={class:"md:py-0 py-4 space-x-2 space-y-2"},B=s("button",{class:"btn btn-secondary btn-sm"},"Kembali",-1),T={key:0,class:"px-4 py-4"},R={class:"w-full"},W={class:"shadow rounded-lg px-0"},$={class:"w-full lg:w-fi mx-4"},q={class:"p-2 sm:p-6 xl:p-8"},z={class:"pt-0 px-0"},G={class:"w-full mx-0"},H={class:"rounded-lg"},J={class:"grid md:grid-cols-2 gap-2"},L=s("label",{for:"nama",class:"text-sm font-medium block mb-2"},"Nama ",-1),M={class:"text-xs text-red-600 mt-1"},O=s("label",{for:"username",class:"text-sm font-medium block mb-2"},"Username ",-1),Q={class:"text-xs text-red-600 mt-1"},X=s("label",{for:"email",class:"text-sm font-medium block mb-2"},"Email ",-1),Y={class:"text-xs text-red-600 mt-1"},Z=s("label",{for:"password",class:"text-sm font-medium block mb-2"},"Password",-1),ss={class:"text-xs text-red-600 mt-1"},es=s("label",{for:"password2",class:"text-sm font-medium block mb-2"},"Konfirmasi Password",-1),ts={class:"text-xs text-red-600 mt-1"},as=s("div",{class:"w-full flex justify-end mt-4 px-20"},[s("button",{class:"btn btn-active btn-lg btn-primary"}," Simpan ")],-1),_s=S({__name:"UserEdit",setup(os){const w=F(),b=P().params.id,V=U();D().setPagesActive("user"),V.$subscribe((e,a)=>{}),m([]);const t=m([]),u=m(null);(async()=>{u.value=await v.getDataId(b),u.value?t.value=u.value:(_.warning("Info","Data tidak ditemukan"),w.push({name:"AdminUser"}))})();const f=async e=>{await v.doUpdate(b,e)&&(_.success("Info","Data berhasil diupdate!"),w.push({name:"AdminUser"}))},n=m([]),k=async e=>{e.password!=null&&e.password!=""||e.password2!=null&&e.password2!=""?e.password2==e.password?e.password.length<3?n.value.password="Password minimal 3 karakter":(n.value.password=null,f(e)):(n.value.password="Password tidak sama",_.warning("Warning","Konfirmasi password tidak sama! Periksa kembali")):(n.value.password=null,e.password=null,e.password2=null,f(e))};return(e,a)=>{const y=K("router-link");return x(),h(I,null,[s("div",N,[C,s("div",j,[d(y,{to:{name:"AdminUser"}},{default:g(()=>[B]),_:1})])]),t.value?(x(),h("div",T,[s("div",R,[s("div",W,[s("div",$,[s("div",q,[d(l(A),{onSubmit:k},{default:g(({errors:p})=>[s("div",z,[s("div",G,[s("div",H,[s("div",J,[s("div",null,[L,d(l(i),{rules:l(c).validateData2,modelValue:t.value.nama,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.nama=o),name:"nama",type:"text",class:"input input-bordered w-11/12"},null,8,["rules","modelValue"]),s("div",M,r(p.nama),1)]),s("div",null,[O,d(l(i),{rules:l(c).validateData2,modelValue:t.value.username,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.username=o),name:"username",type:"text",class:"input input-bordered w-11/12"},null,8,["rules","modelValue"]),s("div",Q,r(p.username),1)]),s("div",null,[X,d(l(i),{rules:l(c).validateData2,modelValue:t.value.email,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.email=o),name:"email",type:"text",class:"input input-bordered w-11/12"},null,8,["rules","modelValue"]),s("div",Y,r(p.email),1)]),s("div",null,[Z,d(l(i),{modelValue:t.value.password,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.password=o),name:"password",type:"password",class:"input input-bordered w-11/12"},null,8,["modelValue"]),s("div",ss,r(n.value.password),1)]),s("div",null,[es,d(l(i),{modelValue:t.value.password2,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.password2=o),name:"password2",type:"password",class:"input input-bordered w-11/12"},null,8,["modelValue"]),s("div",ts,r(n.value.password),1)])]),as])])])]),_:1})])])])])])):E("",!0)],64)}}});export{_s as default};
