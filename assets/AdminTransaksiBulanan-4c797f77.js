import{r,a as C,o as s,c as o,b as a,t,u as n,e as _,w as h,n as P,F as g,L as V,k as B,T as F,l as D,_ as L}from"./index-ff4ce3c2.js";import{F as u}from"./FungsiCampur-1f52fc3b.js";import{A as S}from"./axios-36c6ef57.js";import{m as x,l as $}from"./id-2c2e2348.js";import{u as z}from"./adminRekapStore-28e98e49.js";const H={class:"pt-4 px-5 md:flex justify-between"},M={class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm uppercase"},G=a("div",{class:"md:py-0 py-4 space-x-2 space-y-2"},null,-1),K={class:"p-4"},O={class:"tabs tabs-boxed"},U=a("a",{class:"tab"},"Harian",-1),q=a("a",{class:"tab tab-active"},"Bulanan",-1),W=a("a",{class:"tab"},"Tahunan",-1),J={class:"pt-4 px-5 md:flex justify-between"},Q=a("div",null,null,-1),X={class:"pt-4 px-5 flex justify-center"},Z={key:0},I={key:1},aa={key:2},ea={key:0,class:"font-mono"},ta={class:"w-full py-6 px-2 flex justify-center shadow"},sa={class:"grid grid-cols-3 w-full text-center"},oa=a("div",{class:"font-bold"},"Pemasukan",-1),na={class:"text-sky-600"},la={class:""},ra=a("div",{class:"font-bold"},"Pengeluaran",-1),da={class:"text-red-600"},ia={class:""},ca=a("div",{class:"font-bold"},"Saldo",-1),_a={class:"text-primary-content"},ua={class:"w-full py-4 flex-col justify-center px-4 space-y-4 shadow-md"},va={class:"grid grid-cols-3 w-full"},pa={class:"grid-cols-1 font-bold border-r-2"},ha={class:"flex flex-row space-x-2"},ma={class:"text-2xl"},fa={class:"text-right text-sky-600 border-r-2 px-2"},ya={class:"text-right text-red-600"},ga={class:"grid grid-cols-3 w-full"},xa={class:"grid-cols-1 border-r-2 flex space-x-2"},ka=["onClick"],ba=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),wa=[ba],Aa={class:"border-r-2 px-2"},Ra=["onClick"],Ta={__name:"AdminTransaksiBulanan",setup(Ca){x.updateLocale("id",$);const E=D(()=>L(()=>import("./AlertLoading-ce71e713.js"),["assets/AlertLoading-ce71e713.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-ff4ce3c2.js","assets/index-55cc922c.css"])),T=D(()=>L(()=>import("./AlertFailed-d53b03f3.js"),["assets/AlertFailed-d53b03f3.js","assets/index-ff4ce3c2.js","assets/index-55cc922c.css"]));z();const k=r(`${x().format("YYYY")}`),v=r({monthyear:0});v.value.monthyear=k.value;const m=r([]),d=r([]),b=r([]),p=r(!0),w=r(!1);r([]);const Y=async()=>{v.value.monthyear,await A()},A=async()=>{try{p.value=!0;let c=`${v.value.monthyear}`;const i=await S.get(`admin/data_transaksi/detail/bulanan?year=${c}`);b.value=i.data,d.value=i.rekap,m.value=b.value,p.value=!1}catch(c){p.value=!1,w.value=!0,F.danger("Warning","Data Gagal dimuat"),console.error(c)}};return A(),(c,i)=>{const f=C("RouterLink"),j=C("Datepicker");return s(),o(g,null,[a("div",H,[a("div",null,[a("span",M," REKAP TRANSAKSI TAHUN "+t(n(x)(k.value).format("YYYY")),1)]),G]),a("div",K,[a("div",O,[_(f,{to:{name:"admin-transaksi-harian"}},{default:h(()=>[U]),_:1}),_(f,{to:{name:"admin-transaksi-bulanan"}},{default:h(()=>[q]),_:1}),_(f,{to:{name:"admin-transaksi-tahunan"}},{default:h(()=>[W]),_:1})])]),a("div",J,[Q,a("div",X,[_(j,{format:"yyyy","value-format":"yyyy",modelValue:v.value.monthyear,"onUpdate:modelValue":i[0]||(i[0]=e=>v.value.monthyear=e),yearPicker:"",required:""},{"calendar-header":h(({index:e,day:R})=>[a("div",{class:P(e===5||e===6?"red-color":"")},t(R),3)]),_:1},8,["modelValue"]),a("button",{class:"btn btn-sm btn-primary",onClick:i[1]||(i[1]=e=>Y())}," Pilih ")])]),p.value?(s(),o("span",Z,[_(n(E))])):w.value?(s(),o("span",I,[_(n(T),{message:"Gagal mendapatkan response dari server"})])):(s(),o("span",aa,[m.value?(s(),o("div",ea,[a("div",ta,[a("div",sa,[a("div",null,[oa,a("div",na,t(n(u).formatRupiah(d.value.pemasukan?d.value.pemasukan:0)),1)]),a("div",la,[ra,a("div",da,t(n(u).formatRupiah(d.value.pengeluaran?d.value.pengeluaran:0)),1)]),a("div",ia,[ca,a("div",_a,t(n(u).formatRupiah(d.value.saldo?d.value.saldo:0)),1)])])]),(s(!0),o(g,null,V(m.value,(e,R)=>(s(),o("div",ua,[a("div",va,[a("div",pa,[a("div",ha,[a("span",ma,t(e.nama),1)])]),a("div",fa,t(n(u).formatRupiah(e.pemasukan?e.pemasukan:0)),1),a("div",ya,t(n(u).formatRupiah(e.pengeluaran?e.pengeluaran:0)),1)]),(s(!0),o(g,null,V(e.detail,(l,y)=>(s(),o("div",ga,[a("div",xa,[a("button",{class:"bg-transparent hover:bg-gray-200 text-danger font-semibold hover:text-danger-content border border-danger hover:border-danger py-2 px-2 rounded",onClick:N=>c.doDeleteData(l.id,y)},wa,8,ka),a("span",null,t(y+1)+". "+t(l.nama),1)]),a("div",Aa,[a("span",null,t(l.nama),1)]),a("div",{class:P(["text-right hover:underline",{"text-red-600":l.jenis=="Pengeluaran","text-sky-600":l.jenis=="Pemasukan"}]),onClick:N=>c.doEditData(l.id,y)},t(n(u).formatRupiah(l.nominal?l.nominal:0)),11,Ra)]))),256))]))),256))])):B("",!0)]))],64)}}};export{Ta as default};
