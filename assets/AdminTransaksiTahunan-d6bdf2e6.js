import{r,a as D,o as e,c as s,b as a,e as _,w as f,u as n,t,F as g,L as w,k as T,T as V,n as N,l as b,_ as R}from"./index-58fc319a.js";import{F as d}from"./FungsiCampur-1f52fc3b.js";import{A as S}from"./axios-36c6ef57.js";import{m as A,l as F}from"./id-25c94f65.js";import{u as j}from"./adminRekapStore-821d1193.js";const z=a("div",{class:"pt-4 px-5 md:flex justify-between"},[a("div",null,[a("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm uppercase"}," REKAP TRANSAKSI KESELURUHAN ")]),a("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),B={class:"p-4"},$={class:"tabs tabs-boxed"},H=a("a",{class:"tab"},"Harian",-1),Y=a("a",{class:"tab"},"Bulanan",-1),K=a("a",{class:"tab tab-active"},"Tahunan",-1),M={key:0},G={key:1},O={key:2},U={key:0,class:"font-mono"},W={class:"w-full py-6 px-2 flex justify-center shadow"},q={class:"grid grid-cols-3 w-full text-center"},J=a("div",{class:"font-bold"},"Pemasukan",-1),Q={class:"text-sky-600"},X={class:""},Z=a("div",{class:"font-bold"},"Pengeluaran",-1),I={class:"text-red-600"},aa={class:""},ea=a("div",{class:"font-bold"},"Saldo",-1),sa={key:0,class:"text-primary-content text-red-500"},ta={key:1,class:"text-primary-content text-sky-500"},oa={class:"w-full py-4 flex-col justify-center px-4 space-y-4 shadow-md"},na={class:"grid grid-cols-3 w-full"},la={class:"grid-cols-1 font-bold border-r-2"},ra={class:"flex flex-row space-x-2"},da={class:"text-2xl"},ia={class:"text-right text-sky-600 border-r-2 px-2"},ca={class:"text-right text-red-600"},_a={class:"grid grid-cols-3 w-full"},ua={class:"grid-cols-1 border-r-2 flex space-x-2"},va=["onClick"],pa=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),ha=[pa],ma={class:"border-r-2 px-2"},fa=["onClick"],La={__name:"AdminTransaksiTahunan",setup(ga){A.updateLocale("id",F);const L=b(()=>R(()=>import("./AlertLoading-0dc288a1.js"),["assets/AlertLoading-0dc288a1.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-58fc319a.js","assets/index-d9df2e80.css"])),C=b(()=>R(()=>import("./AlertFailed-25d550a1.js"),["assets/AlertFailed-25d550a1.js","assets/index-58fc319a.js","assets/index-d9df2e80.css"]));j();const E=r(`${A().format("YYYY")}`),x=r({monthyear:0});x.value.monthyear=E.value;const v=r([]),o=r([]),k=r([]),u=r(!0),y=r(!1);return r([]),(async()=>{try{u.value=!0;let i=`${x.value.monthyear}`;const p=await S.get(`admin/data_transaksi/detail/tahunan?year=${i}`);k.value=p.data,o.value=p.rekap,v.value=k.value,u.value=!1}catch(i){u.value=!1,y.value=!0,V.danger("Warning","Data Gagal dimuat"),console.error(i)}})(),(i,p)=>{const h=D("RouterLink");return e(),s(g,null,[z,a("div",B,[a("div",$,[_(h,{to:{name:"admin-transaksi-harian"}},{default:f(()=>[H]),_:1}),_(h,{to:{name:"admin-transaksi-bulanan"}},{default:f(()=>[Y]),_:1}),_(h,{to:{name:"admin-transaksi-tahunan"}},{default:f(()=>[K]),_:1})])]),u.value?(e(),s("span",M,[_(n(L))])):y.value?(e(),s("span",G,[_(n(C),{message:"Gagal mendapatkan response dari server"})])):(e(),s("span",O,[v.value?(e(),s("div",U,[a("div",W,[a("div",q,[a("div",null,[J,a("div",Q,t(n(d).formatRupiah(o.value.pemasukan?o.value.pemasukan:0)),1)]),a("div",X,[Z,a("div",I,t(n(d).formatRupiah(o.value.pengeluaran?o.value.pengeluaran:0)),1)]),a("div",aa,[ea,o.value.saldo<0?(e(),s("div",sa,t(n(d).formatRupiahMinus(o.value.saldo?o.value.saldo:0)),1)):(e(),s("div",ta,t(n(d).formatRupiah(o.value.saldo?o.value.saldo:0)),1))])])]),(e(!0),s(g,null,w(v.value,(c,ka)=>(e(),s("div",oa,[a("div",na,[a("div",la,[a("div",ra,[a("span",da,t(c.nama),1)])]),a("div",ia,t(n(d).formatRupiah(c.pemasukan?c.pemasukan:0)),1),a("div",ca,t(n(d).formatRupiah(c.pengeluaran?c.pengeluaran:0)),1)]),(e(!0),s(g,null,w(c.detail,(l,m)=>(e(),s("div",_a,[a("div",ua,[a("button",{class:"bg-transparent hover:bg-gray-200 text-danger font-semibold hover:text-danger-content border border-danger hover:border-danger py-2 px-2 rounded",onClick:P=>i.doDeleteData(l.id,m)},ha,8,va),a("span",null,t(m+1)+". "+t(l.nama),1)]),a("div",ma,[a("span",null,t(l.nama),1)]),a("div",{class:N(["text-right hover:underline",{"text-red-600":l.jenis=="Pengeluaran","text-sky-600":l.jenis=="Pemasukan"}]),onClick:P=>i.doEditData(l.id,m)},t(n(d).formatRupiah(l.nominal?l.nominal:0)),11,fa)]))),256))]))),256))])):T("",!0)]))],64)}}};export{La as default};
