import{r as d,a as C,o as s,c as o,b as a,t as e,u as l,e as _,w as h,n as P,F as x,L as V,k as B,T as F,l as D,_ as L}from"./index-a3ee2ccf.js";import{F as c}from"./FungsiCampur-1f52fc3b.js";import{A as S}from"./axios-36c6ef57.js";import{m as g,l as $}from"./id-ec39c74b.js";import{u as z}from"./adminRekapStore-49071333.js";const H={class:"pt-4 px-5 md:flex justify-between"},M={class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm uppercase"},G=a("div",{class:"md:py-0 py-4 space-x-2 space-y-2"},null,-1),K={class:"p-4"},O={class:"tabs tabs-boxed"},U=a("a",{class:"tab"},"Harian",-1),q=a("a",{class:"tab tab-active"},"Bulanan",-1),W=a("a",{class:"tab"},"Tahunan",-1),J={class:"pt-4 px-5 md:flex justify-between"},Q=a("div",null,null,-1),X={class:"pt-4 px-5 flex justify-center"},Z={key:0},I={key:1},aa={key:2},ea={key:0,class:"font-mono"},ta={class:"w-full py-6 px-2 flex justify-center shadow"},sa={class:"grid grid-cols-3 w-full text-center"},oa=a("div",{class:"font-bold"},"Pemasukan",-1),na={class:"text-sky-600"},la={class:""},ra=a("div",{class:"font-bold"},"Pengeluaran",-1),da={class:"text-red-600"},ia={class:""},ca=a("div",{class:"font-bold"},"Saldo",-1),ua={key:0,class:"text-primary-content text-red-500"},_a={key:1,class:"text-primary-content text-sky-500"},va={class:"w-full py-4 flex-col justify-center px-4 space-y-4 shadow-md"},pa={class:"grid grid-cols-3 w-full"},ha={class:"grid-cols-1 font-bold border-r-2"},ma={class:"flex flex-row space-x-2"},fa={class:"text-2xl"},ya={class:"text-right text-sky-600 border-r-2 px-2"},xa={class:"text-right text-red-600"},ga={class:"grid grid-cols-3 w-full"},ka={class:"grid-cols-1 border-r-2 flex space-x-2"},ba=["onClick"],wa=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),Aa=[wa],Ra={class:"border-r-2 px-2"},Ca=["onClick"],Ya={__name:"AdminTransaksiBulanan",setup(Pa){g.updateLocale("id",$);const E=D(()=>L(()=>import("./AlertLoading-c3e778de.js"),["assets/AlertLoading-c3e778de.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-a3ee2ccf.js","assets/index-55cc922c.css"])),T=D(()=>L(()=>import("./AlertFailed-8ce9bab2.js"),["assets/AlertFailed-8ce9bab2.js","assets/index-a3ee2ccf.js","assets/index-55cc922c.css"]));z();const k=d(`${g().format("YYYY")}`),v=d({monthyear:0});v.value.monthyear=k.value;const m=d([]),n=d([]),b=d([]),p=d(!0),w=d(!1);d([]);const Y=async()=>{v.value.monthyear,await A()},A=async()=>{try{p.value=!0;let u=`${v.value.monthyear}`;const i=await S.get(`admin/data_transaksi/detail/bulanan?year=${u}`);b.value=i.data,n.value=i.rekap,m.value=b.value,p.value=!1}catch(u){p.value=!1,w.value=!0,F.danger("Warning","Data Gagal dimuat"),console.error(u)}};return A(),(u,i)=>{const f=C("RouterLink"),j=C("Datepicker");return s(),o(x,null,[a("div",H,[a("div",null,[a("span",M," REKAP TRANSAKSI TAHUN "+e(l(g)(k.value).format("YYYY")),1)]),G]),a("div",K,[a("div",O,[_(f,{to:{name:"admin-transaksi-harian"}},{default:h(()=>[U]),_:1}),_(f,{to:{name:"admin-transaksi-bulanan"}},{default:h(()=>[q]),_:1}),_(f,{to:{name:"admin-transaksi-tahunan"}},{default:h(()=>[W]),_:1})])]),a("div",J,[Q,a("div",X,[_(j,{format:"yyyy","value-format":"yyyy",modelValue:v.value.monthyear,"onUpdate:modelValue":i[0]||(i[0]=t=>v.value.monthyear=t),yearPicker:"",required:""},{"calendar-header":h(({index:t,day:R})=>[a("div",{class:P(t===5||t===6?"red-color":"")},e(R),3)]),_:1},8,["modelValue"]),a("button",{class:"btn btn-sm btn-primary",onClick:i[1]||(i[1]=t=>Y())}," Pilih ")])]),p.value?(s(),o("span",Z,[_(l(E))])):w.value?(s(),o("span",I,[_(l(T),{message:"Gagal mendapatkan response dari server"})])):(s(),o("span",aa,[m.value?(s(),o("div",ea,[a("div",ta,[a("div",sa,[a("div",null,[oa,a("div",na,e(l(c).formatRupiah(n.value.pemasukan?n.value.pemasukan:0)),1)]),a("div",la,[ra,a("div",da,e(l(c).formatRupiah(n.value.pengeluaran?n.value.pengeluaran:0)),1)]),a("div",ia,[ca,n.value.saldo<0?(s(),o("div",ua,e(l(c).formatRupiahMinus(n.value.saldo?n.value.saldo:0)),1)):(s(),o("div",_a,e(l(c).formatRupiah(n.value.saldo?n.value.saldo:0)),1))])])]),(s(!0),o(x,null,V(m.value,(t,R)=>(s(),o("div",va,[a("div",pa,[a("div",ha,[a("div",ma,[a("span",fa,e(t.nama),1)])]),a("div",ya,e(l(c).formatRupiah(t.pemasukan?t.pemasukan:0)),1),a("div",xa,e(l(c).formatRupiah(t.pengeluaran?t.pengeluaran:0)),1)]),(s(!0),o(x,null,V(t.detail,(r,y)=>(s(),o("div",ga,[a("div",ka,[a("button",{class:"bg-transparent hover:bg-gray-200 text-danger font-semibold hover:text-danger-content border border-danger hover:border-danger py-2 px-2 rounded",onClick:N=>u.doDeleteData(r.id,y)},Aa,8,ba),a("span",null,e(y+1)+". "+e(r.nama),1)]),a("div",Ra,[a("span",null,e(r.nama),1)]),a("div",{class:P(["text-right hover:underline",{"text-red-600":r.jenis=="Pengeluaran","text-sky-600":r.jenis=="Pemasukan"}]),onClick:N=>u.doEditData(r.id,y)},e(l(c).formatRupiah(r.nominal?r.nominal:0)),11,Ca)]))),256))]))),256))])):B("",!0)]))],64)}}};export{Ya as default};
